(function(n){var o={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},a={check:{enable:!1,autoCheckTrigger:!1,chkStyle:o.checkbox.STYLE,nocheckInherit:!1,chkDisabledInherit:!1,radioType:o.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}},v=function(n){var t=r.getRoot(n);t.radioCheckedList=[]},y=function(){},p=function(n){var t=n.treeObj,r=i.event;t.bind(r.CHECK,function(t,i,r,f){t.srcEvent=i;u.apply(n.callback.onCheck,[t,r,f])})},w=function(n){var t=n.treeObj,r=i.event;t.unbind(r.CHECK)},b=function(n){var t=n.target,o=r.getSetting(n.data.treeId),e="",c=null,f="",h=null;if(u.eqs(n.type,"mouseover")?o.check.enable&&u.eqs(t.tagName,"span")&&t.getAttribute("treeNode"+i.id.CHECK)!==null&&(e=u.getNodeMainDom(t).id,f="mouseoverCheck"):u.eqs(n.type,"mouseout")?o.check.enable&&u.eqs(t.tagName,"span")&&t.getAttribute("treeNode"+i.id.CHECK)!==null&&(e=u.getNodeMainDom(t).id,f="mouseoutCheck"):u.eqs(n.type,"click")&&o.check.enable&&u.eqs(t.tagName,"span")&&t.getAttribute("treeNode"+i.id.CHECK)!==null&&(e=u.getNodeMainDom(t).id,f="checkNode"),e.length>0){c=r.getNodeCache(o,e);switch(f){case"checkNode":h=s.onCheckNode;break;case"mouseoverCheck":h=s.onMouseoverCheck;break;case"mouseoutCheck":h=s.onMouseoutCheck}}return{stop:f==="checkNode",node:c,nodeEventType:f,nodeEventCallback:h,treeEventType:"",treeEventCallback:null}},k=function(n,t,f,e){var o,s;f&&(o=n.data.key.checked,typeof f[o]=="string"&&(f[o]=u.eqs(f[o],"true")),f[o]=!!f[o],f.checkedOld=f[o],typeof f.nocheck=="string"&&(f.nocheck=u.eqs(f.nocheck,"true")),f.nocheck=!!f.nocheck||n.check.nocheckInherit&&e&&!!e.nocheck,typeof f.chkDisabled=="string"&&(f.chkDisabled=u.eqs(f.chkDisabled,"true")),f.chkDisabled=!!f.chkDisabled||n.check.chkDisabledInherit&&e&&!!e.chkDisabled,typeof f.halfCheck=="string"&&(f.halfCheck=u.eqs(f.halfCheck,"true")),f.halfCheck=!!f.halfCheck,f.check_Child_State=-1,f.check_Focus=!1,f.getCheckStatus=function(){return r.getCheckStatus(n,f)},n.check.chkStyle==i.radio.STYLE&&n.check.radioType==i.radio.TYPE_ALL&&f[o]&&(s=r.getRoot(n),s.radioCheckedList.push(f)))},d=function(n,u,f){var e=n.data.key.checked;n.check.enable&&(r.makeChkFlag(n,u),f.push("<span ID='",u.tId,i.id.CHECK,"' class='",t.makeChkClass(n,u),"' treeNode",i.id.CHECK,u.nocheck===!0?" style='display:none;'":"","><\/span>"))},g=function(n,e){e.checkNode=function(n,r,e,o){var s=this.setting.data.key.checked,h;if(n.chkDisabled!==!0){if(r!==!0&&r!==!1&&(r=!n[s]),o=!!o,n[s]!==r||e){if(o&&u.apply(this.setting.callback.beforeCheck,[this.setting.treeId,n],!0)==!1)return}else return;u.uCanDo(this.setting)&&this.setting.check.enable&&n.nocheck!==!0&&(n[s]=r,h=f(n,i.id.CHECK,this.setting),(e||this.setting.check.chkStyle===i.radio.STYLE)&&t.checkNodeRelation(this.setting,n),t.setChkClass(this.setting,h,n),t.repairParentChkClassWithSelf(this.setting,n),o&&this.setting.treeObj.trigger(i.event.CHECK,[null,this.setting.treeId,n]))}};e.checkAllNodes=function(n){t.repairAllChk(this.setting,!!n)};e.getCheckedNodes=function(n){var t=this.setting.data.key.children;return n=n!==!1,r.getTreeCheckedNodes(this.setting,r.getRoot(this.setting)[t],n)};e.getChangeCheckedNodes=function(){var n=this.setting.data.key.children;return r.getTreeChangeCheckedNodes(this.setting,r.getRoot(this.setting)[n])};e.setChkDisabled=function(n,i,r,u){i=!!i;r=!!r;u=!!u;t.repairSonChkDisabled(this.setting,n,i,u);t.repairParentChkDisabled(this.setting,n.getParentNode(),i,r)};var o=e.updateNode;e.updateNode=function(n,r){var s,h;(o&&o.apply(e,arguments),n&&this.setting.check.enable)&&(s=f(n,this.setting),s.get(0)&&u.uCanDo(this.setting)&&(h=f(n,i.id.CHECK,this.setting),(r==!0||this.setting.check.chkStyle===i.radio.STYLE)&&t.checkNodeRelation(this.setting,n),t.setChkClass(this.setting,h,n),t.repairParentChkClassWithSelf(this.setting,n)))}},nt={getRadioCheckedList:function(n){for(var i=r.getRoot(n).radioCheckedList,t=0,u=i.length;t<u;t++)r.getNodeCache(n,i[t].tId)||(i.splice(t,1),t--,u--);return i},getCheckStatus:function(n,t){if(!n.check.enable||t.nocheck||t.chkDisabled)return null;var r=n.data.key.checked;return{checked:t[r],half:t.halfCheck?t.halfCheck:n.check.chkStyle==i.radio.STYLE?t.check_Child_State===2:t[r]?t.check_Child_State>-1&&t.check_Child_State<2:t.check_Child_State>0}},getTreeCheckedNodes:function(n,t,u,f){var e,s;if(!t)return[];var h=n.data.key.children,c=n.data.key.checked,o=u&&n.check.chkStyle==i.radio.STYLE&&n.check.radioType==i.radio.TYPE_ALL;for(f=f?f:[],e=0,s=t.length;e<s;e++){if(t[e].nocheck!==!0&&t[e].chkDisabled!==!0&&t[e][c]==u&&(f.push(t[e]),o))break;if(r.getTreeCheckedNodes(n,t[e][h],u,f),o&&f.length>0)break}return f},getTreeChangeCheckedNodes:function(n,t,i){var f,e,u,o;if(!t)return[];for(f=n.data.key.children,e=n.data.key.checked,i=i?i:[],u=0,o=t.length;u<o;u++)t[u].nocheck!==!0&&t[u].chkDisabled!==!0&&t[u][e]!=t[u].checkedOld&&i.push(t[u]),r.getTreeChangeCheckedNodes(n,t[u][f],i);return i},makeChkFlag:function(n,t){var e,h,r,u;if(t){var o=n.data.key.children,s=n.data.key.checked,f=-1;if(t[o])for(e=0,h=t[o].length;e<h;e++)if(r=t[o][e],u=-1,n.check.chkStyle==i.radio.STYLE)if(u=r.nocheck===!0||r.chkDisabled===!0?r.check_Child_State:r.halfCheck===!0?2:r[s]?2:r.check_Child_State>0?2:0,u==2){f=2;break}else u==0&&(f=0);else if(n.check.chkStyle==i.checkbox.STYLE)if(u=r.nocheck===!0||r.chkDisabled===!0?r.check_Child_State:r.halfCheck===!0?1:r[s]?r.check_Child_State===-1||r.check_Child_State===2?2:1:r.check_Child_State>0?1:0,u===1){f=1;break}else if(u===2&&f>-1&&e>0&&u!==f){f=1;break}else if(f===2&&u>-1&&u<2){f=1;break}else u>-1&&(f=u);t.check_Child_State=f}}},s={onCheckNode:function(n,e){var o,s,h;return e.chkDisabled===!0?!1:(o=r.getSetting(n.data.treeId),s=o.data.key.checked,u.apply(o.callback.beforeCheck,[o.treeId,e],!0)==!1)?!0:(e[s]=!e[s],t.checkNodeRelation(o,e),h=f(e,i.id.CHECK,o),t.setChkClass(o,h,e),t.repairParentChkClassWithSelf(o,e),o.treeObj.trigger(i.event.CHECK,[n,o.treeId,e]),!0)},onMouseoverCheck:function(n,u){if(u.chkDisabled===!0)return!1;var e=r.getSetting(n.data.treeId),o=f(u,i.id.CHECK,e);return u.check_Focus=!0,t.setChkClass(e,o,u),!0},onMouseoutCheck:function(n,u){if(u.chkDisabled===!0)return!1;var e=r.getSetting(n.data.treeId),o=f(u,i.id.CHECK,e);return u.check_Focus=!1,t.setChkClass(e,o,u),!0}},tt={checkNodeRelation:function(n,u){var e,o,l,c=n.data.key.children,s=n.data.key.checked,a=i.radio,h,v;if(n.check.chkStyle==a.STYLE){if(h=r.getRadioCheckedList(n),u[s])if(n.check.radioType==a.TYPE_ALL){for(o=h.length-1;o>=0;o--)e=h[o],e[s]&&e!=u&&(e[s]=!1,h.splice(o,1),t.setChkClass(n,f(e,i.id.CHECK,n),e),e.parentTId!=u.parentTId&&t.repairParentChkClassWithSelf(n,e));h.push(u)}else for(v=u.parentTId?u.getParentNode():r.getRoot(n),o=0,l=v[c].length;o<l;o++)e=v[c][o],e[s]&&e!=u&&(e[s]=!1,t.setChkClass(n,f(e,i.id.CHECK,n),e));else if(n.check.radioType==a.TYPE_ALL)for(o=0,l=h.length;o<l;o++)if(u==h[o]){h.splice(o,1);break}}else u[s]&&(!u[c]||u[c].length==0||n.check.chkboxType.Y.indexOf("s")>-1)&&t.setSonNodeCheckBox(n,u,!0),!u[s]&&(!u[c]||u[c].length==0||n.check.chkboxType.N.indexOf("s")>-1)&&t.setSonNodeCheckBox(n,u,!1),u[s]&&n.check.chkboxType.Y.indexOf("p")>-1&&t.setParentNodeCheckBox(n,u,!0),!u[s]&&n.check.chkboxType.N.indexOf("p")>-1&&t.setParentNodeCheckBox(n,u,!1)},makeChkClass:function(n,t){var f=n.data.key.checked,r=i.checkbox,o=i.radio,e="",u;return e=t.chkDisabled===!0?r.DISABLED:t.halfCheck?r.PART:n.check.chkStyle==o.STYLE?t.check_Child_State<1?r.FULL:r.PART:t[f]?t.check_Child_State===2||t.check_Child_State===-1?r.FULL:r.PART:t.check_Child_State<1?r.FULL:r.PART,u=n.check.chkStyle+"_"+(t[f]?r.TRUE:r.FALSE)+"_"+e,u=t.check_Focus&&t.chkDisabled!==!0?u+"_"+r.FOCUS:u,i.className.BUTTON+" "+r.DEFAULT+" "+u},repairAllChk:function(n,u){var e,h,f;if(n.check.enable&&n.check.chkStyle===i.checkbox.STYLE){var c=n.data.key.checked,o=n.data.key.children,s=r.getRoot(n);for(e=0,h=s[o].length;e<h;e++)f=s[o][e],f.nocheck!==!0&&f.chkDisabled!==!0&&(f[c]=u),t.setSonNodeCheckBox(n,f,u)}},repairChkClass:function(n,u){if(u&&(r.makeChkFlag(n,u),u.nocheck!==!0)){var e=f(u,i.id.CHECK,n);t.setChkClass(n,e,u)}},repairParentChkClass:function(n,i){if(i&&i.parentTId){var r=i.getParentNode();t.repairChkClass(n,r);t.repairParentChkClass(n,r)}},repairParentChkClassWithSelf:function(n,i){if(i){var r=n.data.key.children;i[r]&&i[r].length>0?t.repairParentChkClass(n,i[r][0]):t.repairParentChkClass(n,i)}},repairSonChkDisabled:function(n,i,r,u){var f,e,o,s;if(i&&(f=n.data.key.children,i.chkDisabled!=r&&(i.chkDisabled=r),t.repairChkClass(n,i),i[f]&&u))for(e=0,o=i[f].length;e<o;e++)s=i[f][e],t.repairSonChkDisabled(n,s,r,u)},repairParentChkDisabled:function(n,i,r,u){i&&(i.chkDisabled!=r&&u&&(i.chkDisabled=r),t.repairChkClass(n,i),t.repairParentChkDisabled(n,i.getParentNode(),r,u))},setChkClass:function(n,i,r){i&&(r.nocheck===!0?i.hide():i.show(),i.attr("class",t.makeChkClass(n,r)))},setParentNodeCheckBox:function(n,u,e,o){var v=n.data.key.children,l=n.data.key.checked,y=f(u,i.id.CHECK,n),c,h,s,a;if(o||(o=u),r.makeChkFlag(n,u),u.nocheck!==!0&&u.chkDisabled!==!0&&(u[l]=e,t.setChkClass(n,y,u),n.check.autoCheckTrigger&&u!=o&&n.treeObj.trigger(i.event.CHECK,[null,n.treeId,u])),u.parentTId){if(c=!0,!e)for(h=u.getParentNode()[v],s=0,a=h.length;s<a;s++)if(h[s].nocheck!==!0&&h[s].chkDisabled!==!0&&h[s][l]||(h[s].nocheck===!0||h[s].chkDisabled===!0)&&h[s].check_Child_State>0){c=!1;break}c&&t.setParentNodeCheckBox(n,u.getParentNode(),e,o)}},setSonNodeCheckBox:function(n,u,e,o){var h,c,a,l;if(u){var s=n.data.key.children,v=n.data.key.checked,y=f(u,i.id.CHECK,n);if(o||(o=u),h=!1,u[s])for(c=0,a=u[s].length;c<a&&u.chkDisabled!==!0;c++)l=u[s][c],t.setSonNodeCheckBox(n,l,e,o),l.chkDisabled===!0&&(h=!0);u!=r.getRoot(n)&&u.chkDisabled!==!0&&(h&&u.nocheck!==!0&&r.makeChkFlag(n,u),u.nocheck!==!0&&u.chkDisabled!==!0?(u[v]=e,h||(u.check_Child_State=u[s]&&u[s].length>0?e?2:0:-1)):u.check_Child_State=-1,t.setChkClass(n,y,u),n.check.autoCheckTrigger&&u!=o&&u.nocheck!==!0&&u.chkDisabled!==!0&&n.treeObj.trigger(i.event.CHECK,[null,n.treeId,u]))}}},it={tools:{},view:tt,event:{},data:nt},h,c,l;n.extend(!0,n.fn.zTree.consts,o);n.extend(!0,n.fn.zTree._z,it);var e=n.fn.zTree,u=e._z.tools,i=e.consts,t=e._z.view,r=e._z.data,rt=e._z.event,f=u.$;r.exSetting(a);r.addInitBind(p);r.addInitUnBind(w);r.addInitCache(y);r.addInitNode(k);r.addInitProxy(b,!0);r.addInitRoot(v);r.addBeforeA(d);r.addZTreeTools(g);h=t.createNodes;t.createNodes=function(n,i,r,u){(h&&h.apply(t,arguments),r)&&t.repairParentChkClassWithSelf(n,u)};c=t.removeNode;t.removeNode=function(n,i){var r=i.getParentNode();(c&&c.apply(t,arguments),i&&r)&&(t.repairChkClass(n,r),t.repairParentChkClass(n,r))};l=t.appendNodes;t.appendNodes=function(n,i,u,f){var e="";return l&&(e=l.apply(t,arguments)),f&&r.makeChkFlag(n,f),e}})(jQuery);
/*
//# sourceMappingURL=jquery.ztree.excheck-3.5.min.js.map
*/